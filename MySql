
Find second highest salary
 1. Max 2. Limit 3. Top
    Using Max
    select max(salary) from employees where salary < (select max(salary) from employees); 
    
    Using Limit
    select salary from employess order by salary desc limit 1,1
    select salary from ( select salary from employees order by salary asc limit 2 ) order by desc limit 1 
    
    Using Top
    select Top 1 salary from employees where salary < (select Top 2 salary from employees order by);
    
 Key
   Key is a set of one or more attritutes, which is used to uniquely identification row within a table.
   
   Types of keys
     Super key 
            Super key is a set of one or more attributes that uniquely identifies each record with in a table
            In super key attributes there must be a attributes which uniquely identifies the record. It can be extra attributes
            
     Condidate key 
           Candidate key is a minimal super key which contains no extra attributes. It consists of maximum possible attributes which is uniquely  identifies.
           candidate key is not null
           
     primary key
           Primary key is a attribute, which is uniquely identifies each record with in a table
          
     composite key
     Foreign Key
           A foreign are attributes in a table. whose value match as primary key in another table.
           Foreign key can be duplicate and also be NULL value
           
     secondary key
        
     
     
 
 Aggregate Function
    To perform calculation on multiple rows of a single column. It retuns single value it is used to sysmmetric data
        1. count, 2. max, 3. min, 4.sum, 5.avg
     
   Difference Between
         Where and Having
               Where
                  -> where is used to filter rows
                  -> works on rows data, not aggregated data
                  -> select * from employees where salary > 50,000
               Having
                  -> works on aggregated data
                  -> select max(salary) as salary from employees having max(salary) > 50,000
         
         Union and Union ALl
               Union
                  -> Remove duplicate records
               
               Union All
                  -> Give also duplicate records
                  
               Notes* 
                 -> Union operator combine result set of two or more select statement
                 -> Each select statement must have
                     -> Same number of columns
                     -> Column must have similary data types
                     -> Column must be a same order
                     
                     
            In v/s Exists
                In
                  -> Multiple OR
                  ->select * from customers where city in (indore,bhopal,bangluru) or select * from customers where city in (select city from cites);
                  -> Big Outer query and small inner query
                Exist
                   -> Exist return TRUE or FALSE value
                   -> Small outer query and big inner query
                   -> select * from customers where city exist (select city from cites where city.city_id = customer.city)
            
            
           Order By / Group By
                 Order By
                    -> Sorting
                    -> default (Ascenging)
                    -> asc and desc
                    -> select * from salary order by salary desc
                 Group By
                    -> Group By used for aggregate function
                    -> select name  , count(is_active) from empoloyees group by is_active
                    
                    Notes*
                       -> Group by  follows where clause in select statements
                       -> where can not be used after group by 
                       -> Having is used after group by
                       
            Join v/s Subquery
                 Both are used to combine data from different tables witn a single data
                 Sub Query
                   -> can select only from first table
                   -> It is slower than join
                 
                 Join
                   -> Can select from either of the table
                   -> It is faster than sub-queries
                 
               
             Union Vs Join
                Union
                  -> Combine Rows
                  -> Not nessary to have same column name
                  -> But  no. of column & datatype of column should be same
                
                Join
                   -> Merge Column
                   -> Combine rows from two or more tables based on a related common column between them
                   
           
      Delete Duplicated rows form database
         1. Using a tempary table
         2. using auto id
         3. using row_numbers()
         4. using CTE
         
         1. Using a tempary table
              step 1  select distict * into temptable from oldtable
              step 2  delete from old table
              step 3 Inset INTO oldtable select * from temptable
              step 4 DROP table temptable
              
         2. Using auto id
              Delete from employees where auto_id not in (select min(auto_id) from employees group by emp_id,name) 
              
         3. Delete from (select * , row_number() over(partition by id order by id) as rn from mytable ) wheren rn > 1   
          
               
        Delete v/s Truncate / v/s
          Delete
            -> Comes under DML lanuage
            -> Delete removes some or all the rows or remoe specified row
            -> It does not free space containning the table
            -> The transaction log will still have the deleted rows
            -> rolled up
            -> slower
            -> DELETE FROM employees where id = 1;
           
            Truncate
              -> COmes under DDM language
              -> Delete all the rows
              -> It free up the space containng the table
              -> no where clause
              -> can not be rolled up
              -> faster
              -> TRANCATE TABLE employees
              
            Drop
              -> Remove table from the databse
              -> cannot be rolled up
              -> DROP TABLE employees
              
              
            Increase income of all employees by 5% in a table
              UPDATE employees SET income = income + (income * 50/100)
              
            find name of emlolyees starting with 'A'
               select fist_name from employees where first name like 'A%'
            
            find number of employees working in department abc
               select count(*) from employees where department = 'ABC'
               
            Print details of employees whose first name end with 'A' and contains 6 alphabets
              select * from employees where first_name like '_____A'
              
            Print Detials of employees whose salary lies betbeen 10000 and 50000
               select * from employees where salary betbeen 1000 and 50000
   
   
    
             
    
